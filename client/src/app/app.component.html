<div class="body-wrapper">
    <mat-toolbar class="navbar">
        <div fxFlex="100" style="height: 100%;">
            <div class="toolbar-logo" (click)="setCurrentPage('home')" fxHide.lt-sm="true">
                <img src="../assets/logo/dig-it-text.svg" />
            </div>
            <div class="navbar-items" (click)="setCurrentPage('search')"><img src="../assets/icons/search.png" matTooltip="Search Plants" matTooltipClass="dig-it-tooltip" /></div>
            <div class="garden-icon-wrapper" [class.garden-icon-wrapper-hover]="authService.isLoggedIn()" (click)="authService.isLoggedIn() && setCurrentPage('garden')" matTooltip="{{authService.isLoggedIn() ? 'My Garden' : 'Please log in or register to dig your garden'}}"
                matTooltipClass="dig-it-tooltip">
                <img src="../assets/logo/dig-it-emblem-gray-no-border.svg" />
            </div>

            <div *ngIf="authService.isLoggedIn()" class="user-button-wrapper">
                <button mat-stroked-button color="primary" (click)="onLogout()">Logout</button>
                <button mat-raised-button color="accent" class="profile-menu-button" (click)="openEditProfileDialog()">My Account</button>
            </div>
            <div *ngIf="!authService.isLoggedIn()" class="user-button-wrapper">
                <button mat-raised-button color="accent" class="profile-menu-button" (click)="openLoginDialog()">Login / Register</button>
            </div>
        </div>
    </mat-toolbar>

    <div fxFlexFill fxLayoutAlign="center" class="page-content-wrapper">
        <mat-card fxLayout="column" fxFlex="100" fxFlex.gt-md="{{currentPage === 'home' ? 100 : 80}}" class="page-content" (scroll)="onScroll($event)" [class.page-content-home]="currentPage === 'home'">




            <app-home *ngIf="currentPage === 'home'"></app-home>
            <app-login *ngIf="currentPage === 'login'" (navigateToGardenEvent)="setCurrentPage('garden')" (navigateToRegisterEvent)="setCurrentPage('register')"></app-login>

            <app-search *ngIf="currentPage === 'search'" (openPlantDetailsDialogEvent)="openPlantDetailsDialog($event)"></app-search>
            <app-garden *ngIf="currentPage === 'garden'" (openPlantDetailsDialogEvent)="openPlantDetailsDialog($event)"></app-garden>


        </mat-card>
    </div>
</div>